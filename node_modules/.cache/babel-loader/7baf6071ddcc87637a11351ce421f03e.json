{"ast":null,"code":"import _toConsumableArray from\"E:\\\\code\\\\amazon-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"E:\\\\code\\\\amazon-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";export var initialState={basket:[]};export var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(amount,item){return item.price+amount;},0);};function reducer(state,action){console.log(action);switch(action.type){case'ADD_TO_BASKET'://LOGIC FOR ADD PRODUCT TO BASKET\nreturn _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case'REMOVE_FROM_BASKET'://LOGIC FOR REMOVING ITEM FROM BASKET\nvar newBasket=_toConsumableArray(state.basket);var index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});if(index>=0){newBasket.splice(index,1);}else{console.warn(\"Can't remove product (id: \".concat(action.id,\" it's not in basket!)\"));}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});default:return state;}}export default reducer;","map":{"version":3,"sources":["E:/code/amazon-clone/src/reducer.js"],"names":["initialState","basket","getBasketTotal","reduce","amount","item","price","reducer","state","action","console","log","type","newBasket","index","findIndex","basketItem","id","splice","warn"],"mappings":"2SAAA,MAAO,IAAMA,CAAAA,YAAY,CAAG,CACxBC,MAAM,CAAE,EADgB,CAArB,CAIP,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACD,MAAD,QAC1BA,CAAAA,MAD0B,SAC1BA,MAD0B,iBAC1BA,MAAM,CAAEE,MAAR,CAAe,SAACC,MAAD,CAAQC,IAAR,QAAiBA,CAAAA,IAAI,CAACC,KAAL,CAAaF,MAA9B,EAAf,CAAqD,CAArD,CAD0B,EAAvB,CAGP,QAASG,CAAAA,OAAT,CAAiBC,KAAjB,CAAwBC,MAAxB,CAAgC,CAC5BC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,OAAQA,MAAM,CAACG,IAAf,EACI,IAAK,eAAL,CACI;AACA,sCACOJ,KADP,MAEIP,MAAM,8BAAMO,KAAK,CAACP,MAAZ,GAAoBQ,MAAM,CAACJ,IAA3B,EAFV,GAIJ,IAAK,oBAAL,CACI;AACA,GAAIQ,CAAAA,SAAS,oBAAOL,KAAK,CAACP,MAAb,CAAb,CACA,GAAMa,CAAAA,KAAK,CAAGN,KAAK,CAACP,MAAN,CAAac,SAAb,CAAuB,SAACC,UAAD,QAAgBA,CAAAA,UAAU,CAACC,EAAX,GAAkBR,MAAM,CAACQ,EAAzC,EAAvB,CAAd,CACA,GAAIH,KAAK,EAAI,CAAb,CAAgB,CACZD,SAAS,CAACK,MAAV,CAAkBJ,KAAlB,CAAyB,CAAzB,EACH,CAFD,IAGK,CACDJ,OAAO,CAACS,IAAR,qCAA0CV,MAAM,CAACQ,EAAjD,2BACH,CACD,sCACOT,KADP,MAEIP,MAAM,CAAEY,SAFZ,GAIJ,QACI,MAAOL,CAAAA,KAAP,CAtBR,CAyBH,CAED,cAAeD,CAAAA,OAAf","sourcesContent":["export const initialState = {\r\n    basket: [],\r\n}\r\n\r\nexport const getBasketTotal = (basket) => \r\n    basket?.reduce((amount,item) => item.price + amount, 0)\r\n\r\nfunction reducer(state, action) {\r\n    console.log(action)\r\n    switch (action.type) {\r\n        case 'ADD_TO_BASKET':\r\n            //LOGIC FOR ADD PRODUCT TO BASKET\r\n            return {\r\n                ...state,\r\n                basket: [...state.basket, action.item]\r\n            }\r\n        case 'REMOVE_FROM_BASKET':\r\n            //LOGIC FOR REMOVING ITEM FROM BASKET\r\n            let newBasket = [...state.basket]\r\n            const index = state.basket.findIndex((basketItem) => basketItem.id === action.id)\r\n            if (index >= 0) {\r\n                newBasket.splice( index, 1 )\r\n            }\r\n            else {\r\n                console.warn(`Can't remove product (id: ${action.id} it's not in basket!)`)\r\n            }\r\n            return {\r\n                ...state,\r\n                basket: newBasket\r\n            }\r\n        default:\r\n            return state\r\n        \r\n    }\r\n}\r\n\r\nexport default reducer"]},"metadata":{},"sourceType":"module"}